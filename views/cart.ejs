<!DOCTYPE html>
<html lang="PL-pl">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title> Cart </title>
   <link rel="stylesheet" href="/style.css">
</head>
<body>
   <div class="wrapper">
      <%- include('partials/header') %>
      <section class="container">
         <h1 class="cart_header"> Cart </h1>
         <div class="cart_container">
            <div class="cart_container_left">
               <% if (items.length != 0 && logged) { %>
                  <ul>
                     <% items.forEach((element, index) => { %>
                        <% if (index === items.length - 1) { %>
                           <li class="cart_item">
                           <%- include('partials/cart_item', { item: element.book, quantity: element.quantity }) %>
                           </li>
                        <% } else { %>
                           <li class="cart_item">
                           <%- include('partials/cart_item', { item: element.book, quantity: element.quantity }) %>
                           </li>
                           <div class="cart_item_separator"> </div>
                        <% } %>
                     <% }); %>
                  </ul>
               <% } else if(logged && items.length == 0) { %>
                  <p class="cart_container_left_info"> Your cart is empty </p>
               <% } else { %>
                  <p class="cart_container_left_info"> You need to be logged in to see your cart </p>
               <% } %>
            </div>
            <div class="cart_container_right">
               <div class="cart_container_right_total">
                  <p> Total price </p>
                  <p class="cart_container_right_total_grayed"> Items: <%= cartPrice ? cartPrice : 0 %> &euro; </p>
                  <p class="cart_container_right_total_grayed"> Discounts: <%= discountPrice ? discountPrice : 0 %> &euro; </p>
                  <p class="cart_container_right_total_price"> Total: <%= cartTotal ? cartTotal : 0 %> &euro; </p>
                  <button> Place order </button>
               </div>
            </div>
         </div>
      </section>
      <%- include('partials/footer') %>
   </div>
</body>
</html>